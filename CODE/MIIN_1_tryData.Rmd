---
title: "MIIN Part 1b: TRY data"
author: "Marissa Lee"
date: "June 1, 2015"
output: pdf_document
---

*Filename: MIIN_1_tryData.Rmd'*
```{r setup, include=FALSE}
knitr::opts_chunk$set(cache=TRUE)
```
_________________________________________________________________
## Load and combine raw txt data files from TRY
```{r,echo=TRUE}
#this code takes a while to run
source('rmdCode/tryData/script_compile.R')
#head(data)
```




_________________________________________________________________
# Create and clean a synthetic trait dataset, subsetted from compiled TRY data
### The trait data file has a trait value for each row and a unique ObsDataID for each row.  
```{r,echo=TRUE}
#this code takes a while to run
source('rmdCode/tryData/script_trait.R') #uses 'data'
#head(dataT)
#dim(dataT)
#colnames(dataT)
write.table(dataT, file='synthesizedData/tryData/tryDataT.txt', sep='\t')
```




_________________________________________________________________
# Create and clean a synthetic non-trait dataset, subsetted from compiled TRY data
### The non-trait data file has meta-data about the traits data collected.  For example, there is information such as the soil type or the latitude and longitude of the data collected. 
```{r,echo=TRUE}
# this code should be run overnight
# source('code/tryData/script_nontrait.R') #uses 'data'
# head(dataNT)
# write.table(dataNT, file='syntheticData/tryData/tryDataNT.txt', sep='\t')
```




_________________________________________________________________
# Streamline the trait data file and summarize the types of trait data presented in it, and the correponding units 
### The dataset has a unique ObsDataID for each row.
```{r,echo=TRUE}
source('rmdCode/tryData/script_traitKey.R') #uses 'data'
#head(tdIndex)
write.table(tdIndex, file='synthesizedData/tryData/tryData_traitKey.txt', sep='\t')
```




